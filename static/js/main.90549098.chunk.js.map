{"version":3,"sources":["components/Weather/components/SearchBar/styles/index.js","components/Weather/components/SearchBar/SearchBar.jsx","components/Weather/components/Current/styles/index.js","components/Weather/utils/findWeatherIcon.js","components/Weather/components/Current/components/styles/index.js","components/Weather/components/Current/components/WeatherCard.js","components/Weather/components/Current/components/WindCard.js","assets/images/highest.png","assets/images/lowest.png","assets/images/humidity.png","assets/images/wind.png","components/Weather/components/Current/Current.jsx","assets/images/Cloudy.jpg","assets/images/Clear.jpg","assets/images/Clouds.jpg","assets/images/Rain.jpg","services/openWeatherAPI.js","components/Weather/components/Forecast/styles/index.js","components/Weather/components/Forecast/Forecast.jsx","components/Weather/styles/index.js","components/Weather/Weather.jsx","App.jsx","index.js"],"names":["Form","styled","form","isResultFetched","Icon","span","Input","input","SearchBar","value","onChange","submit","onSubmit","SearchOutlined","type","placeholder","Container","section","Body","div","Title","h2","css","findWeatherIcon","eachWeather","eachTime","hours","substr","weatherIcon","Clear","Clouds","Drizzle","Rain","Thunderstorm","Snow","Fog","Default","Card","Flex","Image","img","Text","p","WeatherCard","currentWeather","icon","weather","Date","toTimeString","split","size","currentTemperature","toFixed","weatherDescription","WindCard","src","highestTemperature","lowestTemperature","humidity","windSpeed","Current","city","country","date","API_URL","process","API_KEY","searchValue","a","currentWeatherURL","Promise","resolve","axios","get","then","result","data","dateString","toString","sys","name","description","main","temp","temp_max","temp_min","wind","speed","catch","alert","forecastWeatherURL","forecastWeatherArray","list","map","eachItem","forecastWeatherObject","dt_txt","time","temperature","push","Forecast","forecastWeather","Weather","useState","searchBarValue","setSearchBarValue","undefined","setCurrentWeather","setForecastWeather","background","Cloudy","event","target","preventDefault","getCurrentWeatherFromAPI","weatherObject","getForecastWeatherFromAPI","App","ReactDOM","render","document","getElementById"],"mappings":"wOAEaA,EAAOC,IAAOC,KAAV,kPAIR,qBAAGC,gBAAyC,KAAO,SAS/CC,EAAOH,IAAOI,KAAV,kKAUJC,EAAQL,IAAOM,MAAV,iP,OCPHC,EAfG,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,MAAOC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,OAAQR,EAAsB,EAAtBA,gBAC5C,OACE,eAACH,EAAD,CAAMG,gBAAiBA,EAAiBS,SAAUD,EAAlD,UACE,cAACP,EAAD,UACE,cAACS,EAAA,EAAD,MAEF,cAACP,EAAD,CACEQ,KAAK,OACLC,YAAY,qCACZN,MAAOA,EACPC,SAAUA,QCXLM,EAAYf,IAAOgB,QAAV,0FAMTC,EAAOjB,IAAOkB,IAAV,iJAQJC,EAAQnB,IAAOoB,GAAV,wDAEd,kBACS,UADT,EAAGP,MAEHQ,YADA,2DAIA,kBACS,aADT,EAAGR,MAEHQ,YADA,6D,gBCvBSC,EAAkB,SAACC,EAAaC,GAC3C,IAAMC,EAAQD,EAASE,OAAO,EAAG,GAC3BC,EAAc,CAClBC,MAAOH,GAAS,IAAMA,GAAS,EAAI,cAAgB,YACnDI,OACEJ,GAAS,IAAMA,GAAS,EAAI,sBAAwB,oBACtDK,QAAS,OACTC,KAAM,QACNC,aAAc,QACdC,KAAM,OACNC,IAAK,MACLC,QAAS,UAEX,OAAOR,EAAYJ,IAAgBI,EAAW,SCZnCS,EAAOpC,IAAOkB,IAAV,gJAMb,kBACS,YADT,EAAGL,MAEHQ,YADA,yDAIA,kBACS,SADT,EAAGR,MAEHQ,YADA,yHAOSgB,EAAOrC,IAAOkB,IAAV,2HAOJoB,EAAQtC,IAAOuC,IAAV,wEAKLC,EAAOxC,IAAOyC,EAAV,kEAEb,kBACS,YADT,EAAG5B,MAEHQ,YADA,2DAIA,kBACS,gBADT,EAAGR,MAEHQ,YADA,2DAIA,kBACS,UADT,EAAGR,MAEHQ,YADA,8DCvBWqB,EAnBK,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eACrB,OACE,eAACP,EAAD,CAAMvB,KAAK,UAAX,UACE,cAAC,IAAD,CACE+B,KAAMtB,EACJqB,EAAeE,SACf,IAAIC,MAAOC,eAAeC,MAAM,KAAK,IAEvCC,KAAM,MAER,eAACZ,EAAD,WACE,eAACG,EAAD,CAAM3B,KAAK,cAAX,UACG8B,EAAeO,mBAAmBC,QAAQ,GAD7C,UAGA,cAACX,EAAD,CAAM3B,KAAK,UAAX,SAAsB8B,EAAeS,4BCU9BC,EAtBE,SAAC,GAAwB,IAAtBV,EAAqB,EAArBA,eAClB,OACE,eAACP,EAAD,CAAMvB,KAAK,OAAX,UACE,eAAC2B,EAAD,CAAM3B,KAAK,QAAX,UACE,cAACyB,EAAD,CAAOgB,ICVA,23BDST,YAEYX,EAAeY,mBAAmBJ,QAAQ,GAFtD,UAIA,eAACX,EAAD,CAAM3B,KAAK,QAAX,UACE,cAACyB,EAAD,CAAOgB,IEdA,2hCFaT,WAEWX,EAAea,kBAAkBL,QAAQ,GAFpD,UAIA,eAACX,EAAD,CAAM3B,KAAK,QAAX,UACE,cAACyB,EAAD,CAAOgB,IGlBA,+kCHiBT,aAEaX,EAAec,SAF5B,OAIA,eAACjB,EAAD,CAAM3B,KAAK,QAAX,UACE,cAACyB,EAAD,CAAOgB,IItBA,mwBJqBT,SAESX,EAAee,UAFxB,aKHSC,EAdC,SAAC,GAAwB,IAAtBhB,EAAqB,EAArBA,eACjB,OACE,eAAC5B,EAAD,WACE,eAACI,EAAD,CAAON,KAAK,QAAZ,UACG8B,EAAeiB,KADlB,IACyBjB,EAAekB,WAExC,cAAC1C,EAAD,CAAON,KAAK,WAAZ,SAAwB8B,EAAemB,OACvC,eAAC7C,EAAD,WACE,cAAC,EAAD,CAAa0B,eAAgBA,IAC7B,cAAC,EAAD,CAAUA,eAAgBA,WCbnB,MAA0B,mCCA1B,MAA0B,kCCA1B,MAA0B,mCCA1B,MAA0B,iC,gDCEnCoB,GAAUC,2CACVC,GAAUD,mC,gDAET,WAAwCE,GAAxC,gBAAAC,EAAA,6DACCC,EADD,UACwBL,GADxB,qBAC4CG,EAD5C,kBACiED,GADjE,mCAEE,IAAII,SAAQ,SAACC,GAClBC,KACGC,IAAIJ,GACJK,MAAK,SAACC,GACL,IAAMC,EAAOD,EAAOC,KACdC,GAAa,IAAI9B,MAAO+B,WAExBf,EAAI,UAAMc,EAAW5B,MAAM,KAAK,GAA5B,YAAkC4B,EAAW5B,MAAM,KAAK,GAAxD,YACR4B,EAAW5B,MAAM,KAAK,GADd,YAEN4B,EAAW5B,MAAM,KAAK,IAEpBL,EAAiB,CACrBkB,QAASc,EAAKG,IAAIjB,QAClBD,KAAMe,EAAKI,KACX3B,mBAAoBuB,EAAK9B,QAAQ,GAAGmC,YACpCnC,QAAS8B,EAAK9B,QAAQ,GAAGoC,KACzB/B,mBAAoByB,EAAKM,KAAKC,KAC9B3B,mBAAoBoB,EAAKM,KAAKE,SAC9B3B,kBAAmBmB,EAAKM,KAAKG,SAC7B3B,SAAUkB,EAAKM,KAAKxB,SACpBC,UAAWiB,EAAKU,KAAKC,MACrBxB,QAEFQ,EAAQ3B,MAET4C,OAAM,WACLC,MAAM,qCA5BP,4C,sEAkCA,WAAyCtB,GAAzC,gBAAAC,EAAA,6DACCsB,EADD,UACyB1B,GADzB,sBAC8CG,EAD9C,kBACmED,GADnE,mCAEE,IAAII,SAAQ,SAACC,GAClBC,KAAMC,IAAIiB,GAAoBhB,MAAK,SAACC,GAClC,IAAMgB,EAAuB,GAC7BhB,EAAOC,KAAKgB,KAAKC,KAAI,SAACC,GAEpB,IAAMC,EAAwB,CAC5BhC,KAAM+B,EAASE,OAAO/C,MAAM,KAAK,GACjCgD,KAAMH,EAASE,OAAO/C,MAAM,KAAK,GACjCiD,YAAaJ,EAASZ,KAAKC,KAC3BrC,QAASgD,EAAShD,QAAQ,GAAGoC,KAC7B7B,mBAAoByC,EAAShD,QAAQ,GAAGmC,aAG1C,OADAU,EAAqBQ,KAAKJ,GACnBJ,KAETpB,EAAQoB,UAjBP,4C,sBCtCA,I,MAAM3E,GAAYf,IAAOgB,QAAV,0FAMTC,GAAOjB,IAAOkB,IAAV,qEAKJkB,GAAOpC,IAAOkB,IAAV,mPAaJsB,GAAOxC,IAAOyC,EAAV,qEAKJtB,GAAQnB,IAAOoB,GAAV,8DCLH+E,GArBE,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBAClB,OACE,eAAC,GAAD,WACE,cAAC,GAAD,uBACA,cAAC,GAAD,UACGA,EAAgBR,KAAI,SAACjB,GACpB,OACE,eAAC,GAAD,WACE,cAAC,GAAD,UAAOA,EAAKb,KAAKpC,OAAO,EAAG,KAC3B,cAAC,GAAD,UAAOiD,EAAKqB,KAAKtE,OAAO,EAAG,KAC3B,cAAC,IAAD,CACEkB,KAAMtB,EAAgBqD,EAAK9B,QAAS8B,EAAKqB,QAE3C,eAAC,GAAD,WAAOrB,EAAKsB,YAAY9C,QAAQ,GAAhC,YANSwB,EAAKb,KAAOa,EAAKqB,eCT3BjF,GAAYf,IAAOkB,IAAV,gSACF,qBAAGqB,OAOjB,qBAAGrC,iBAEHmB,YADe,8DCmENgF,GA/DC,WAEd,MAA4CC,mBAAS,IAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KAEA,EAA4CF,wBAASG,GAArD,mBAAO9D,EAAP,KAAuB+D,EAAvB,KAEA,EAA8CJ,wBAASG,GAAvD,mBAAOL,EAAP,KAAwBO,EAAxB,KAqCA,OACE,eAAC,GAAD,CACEpE,IAhBqB,WACvB,IAAMqE,EAAa,CACjB/E,SACAD,QACAG,OACA8E,UAEF,OACGlE,GAAkBiE,EAAWjE,EAAeE,UAC7C+D,EAAU,QAQV1G,gBAAiByC,GAAkByD,EAFrC,UAIE,cAAC,EAAD,CACE5F,MAAO+F,EACP9F,SA1CwB,SAACqG,GAE7BN,EAAkBM,EAAMC,OAAOvG,QAyC3BE,OAtCe,SAACoG,GAEpBA,EAAME,iBJzBH,SAAP,mCI2BIC,CAAyBV,GAAgB9B,MAAK,SAACyC,GAE7CR,EAAkBQ,MJKjB,SAAP,mCIFIC,CAA0BZ,GAAgB9B,MAAK,SAACyC,GAE9CP,EAAmBO,OA4BjBhH,gBAAiByC,GAAkByD,IAEpCzD,GAAkByD,GACjB,cAAC,EAAD,CAASzD,eAAgBA,IAE1BA,GAAkByD,GACjB,cAAC,GAAD,CAAUA,gBAAiBA,QClEpBgB,GAJH,WACV,OAAO,cAAC,GAAD,K,YCGTC,IAASC,OAAO,cAAC,GAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.90549098.chunk.js","sourcesContent":["import styled from \"styled-components\";\n//搜索区域样式\nexport const Form = styled.form`\n  background: white;\n  opacity: 65%;\n  position: relative;\n  top: ${({ isResultFetched }) => (isResultFetched ? \"5%\" : \"40%\")};\n  width: 30rem;\n  min-height: 3rem;\n  margin: 0 auto 1.5rem auto;\n  border-radius: 20px;\n  font-family: cursive;\n  transition: 0.1s;\n`;\n\nexport const Icon = styled.span`\n  position: absolute;\n  top: 0.8rem;\n  left: 1rem;\n  height: 2rem;\n  width: 2rem;\n  font-size: 1.5rem;\n  font-family: cursive;\n`;\n\nexport const Input = styled.input`\n  width: 90%;\n  position: absolute;\n  left: 10%;\n  top: 0.2rem;\n  border: none;\n  height: 2.5rem;\n  border-radius: 20px;\n  font-family: cursive;\n  font-size: 1.5rem;\n  &:focus {\n    outline: none;\n  }\n`;\n","import { SearchOutlined } from \"@ant-design/icons\";\nimport { Form, Icon, Input } from \"./styles\";\n// 参数从父组件传入\nconst SearchBar = ({ value, onChange, submit, isResultFetched }) => {\n  return (\n    <Form isResultFetched={isResultFetched} onSubmit={submit}>\n      <Icon>\n        <SearchOutlined />\n      </Icon>\n      <Input\n        type=\"text\"\n        placeholder=\"Enter your city (eg. Melbourne,au)\"\n        value={value}\n        onChange={onChange}\n      />\n    </Form>\n  );\n};\nexport default SearchBar;\n","import styled, { css } from \"styled-components\";\n\nexport const Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n`;\n\nexport const Body = styled.div`\n  display: flex;\n  justify-content: space-around;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nexport const Title = styled.h2`\n  margin: 0;\n  ${({ type }) =>\n    type === \"Title\" &&\n    css`\n      font-size: 3rem;\n    `}\n  ${({ type }) =>\n    type === \"Subtitle\" &&\n    css`\n      font-size: 1.5rem;\n    `}\n`;\n","//根据天气预报的气象信息 找到对应的天气图标\nexport const findWeatherIcon = (eachWeather, eachTime) => {\n  const hours = eachTime.substr(0, 2);\n  const weatherIcon = {\n    Clear: hours >= 18 || hours <= 5 ? \"CLEAR_NIGHT\" : \"CLEAR_DAY\",\n    Clouds:\n      hours >= 18 || hours <= 5 ? \"PARTLY_CLOUDY_NIGHT\" : \"PARTLY_CLOUDY_DAY\",\n    Drizzle: \"RAIN\",\n    Rain: \"SLEET\",\n    Thunderstorm: \"SLEET\",\n    Snow: \"SNOW\",\n    Fog: \"FOG\",\n    Default: \"Cloudy\",\n  };\n  return weatherIcon[eachWeather] || weatherIcon[\"Default\"];\n};\n","import styled, { css } from \"styled-components\";\n\nexport const Card = styled.div`\n  border-radius: 1rem;\n  padding: 1rem;\n  &:hover {\n    box-shadow: 0 0.2rem 0.5rem 0 black;\n  }\n  ${({ type }) =>\n    type === \"Weather\" &&\n    css`\n      display: flex;\n    `}\n  ${({ type }) =>\n    type === \"Wind\" &&\n    css`\n      background-color: rgb(255, 255, 255, 0.2);\n      backdrop-filter: blur(10px);\n    `}\n`;\n\nexport const Flex = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 1rem;\n`;\n\nexport const Image = styled.img`\n  height: 1.5rem;\n  margin-right: 0.5rem;\n`;\n\nexport const Text = styled.p`\n  margin: 1rem;\n  ${({ type }) =>\n    type === \"Weather\" &&\n    css`\n      font-size: 2rem;\n    `}\n  ${({ type }) =>\n    type === \"Temperature\" &&\n    css`\n      font-size: 5rem;\n    `}\n  ${({ type }) =>\n    type === \"Other\" &&\n    css`\n      font-size: 1.75rem;\n    `}\n`;\n","import ReactAnimatedWeather from \"react-animated-weather\";\nimport { findWeatherIcon } from \"../../../utils/findWeatherIcon\";\nimport { Card, Text, Flex } from \"./styles\";\n\nconst WeatherCard = ({ currentWeather }) => {\n  return (\n    <Card type=\"Weather\">\n      <ReactAnimatedWeather\n        icon={findWeatherIcon(\n          currentWeather.weather,\n          new Date().toTimeString().split(\" \")[0]\n        )}\n        size={204}\n      />\n      <Flex>\n        <Text type=\"Temperature\">\n          {currentWeather.currentTemperature.toFixed(1)}&#176;\n        </Text>\n        <Text type=\"Weather\">{currentWeather.weatherDescription}</Text>\n      </Flex>\n    </Card>\n  );\n};\nexport default WeatherCard;\n","import highest from \"../../../../../assets/images/highest.png\";\nimport lowest from \"../../../../../assets/images/lowest.png\";\nimport wind from \"../../../../../assets/images/wind.png\";\nimport humidity from \"../../../../../assets/images/humidity.png\";\nimport { Card, Text, Image } from \"./styles\";\n\nconst WindCard = ({ currentWeather }) => {\n  return (\n    <Card type=\"Wind\">\n      <Text type=\"Other\">\n        <Image src={highest} />\n        Highest: {currentWeather.highestTemperature.toFixed(1)}&#176;\n      </Text>\n      <Text type=\"Other\">\n        <Image src={lowest} />\n        Lowest: {currentWeather.lowestTemperature.toFixed(1)}&#176;\n      </Text>\n      <Text type=\"Other\">\n        <Image src={humidity} />\n        Humidity: {currentWeather.humidity}%\n      </Text>\n      <Text type=\"Other\">\n        <Image src={wind} />\n        Wind: {currentWeather.windSpeed}mph\n      </Text>\n    </Card>\n  );\n};\nexport default WindCard;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAk1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB6eSN1AAAAMHRSTlMAgHiIAwZj+Ozn3tVrPREN8uNyVzQpHhrPp5JPysWvlEs42bycbkkuJBahmYt1XlUtlH8lAAABcklEQVRYw+2XyW6DMBRFA7GZpxCGhIxkTsf7/19X1WmRTbPwc7ugUs4KW9wjGz8LvdHASQ6+f0jM82wJADNuLNhCsDUW2BDYxgILAus/COJNTBUU47M08oB5TREkz4AvjUMAWc50BczxAITSzPVJVEyhJziL+lqrS45nADyuI+AegN3px7KOmaYgdeHa98r7GpV6WyjyaniF9BD8TsCi8Y2I6QrUkINvHG2BEpp2z1NtgRpa2DcWlG/QhYZwCg/BnwqK5qQniK3yTjzZAG6qI+AZ3HHaz4tfxYTrCJj/+eq7MleuAGBd6W3hsgeA/UWamgAItoTLJALSRADX4pRTSF9cTKRxdayox1ja5fAKaYiCBoLGMJ7O8cU8NcnXITrCmp5nK0isOFmQQyEnLyCAQsCIghY9YqLgDT0iequgYhMFDno4REGMHi31FHwo+GxE5JVeByp8BomlQetXSaW0q43a1nV3G02b13YTZlnYFKNB8wHHu3LWis7ceQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4jUzeAAAAM3RSTlMABvmIdwTfJRTlYU0zKfXtvI5xIhvx6dM9CsW9fFdSLsy+ta6jfWtUDdjJmYI4NZxZbBDHZmAZAAAB4ElEQVRYw+3Xa3OaQBTG8cMqKiggIIi3aL1EE82l/X//71ZiEnWTlGG3006d6e+Nb9iH9XAWdqVakSSF2EvvKd2nYqnT4qjVETsxqKcnBbHYacGNyBZaYkeBI+KAEjvA288VBDzEhWlA7zCXswjWA5OAzh48ORsCWeKKbkL/FwF+DtxdBq4pDR9F4/ScLwPmxw5f6VMuXiYRORW1PBlFL7fvygdukhG5dQJ2IeH0q1t1vgdSJ0AekzrrU6+BnW/0r6eV/1DAxKQG9k/BvW28unUr/knFIJ93fu0AbdCMd7PaAfqgm+arrkENzoP+d+K/0YnVjALSTVEvoNgE8tnoEKJ2dQKc8sLGpyu7LSB36tTA9QBvK5cGS0rjoF4ntieU+umHT1vu1++DmYe+b7lDxT9MGmkXKy0gbc5NOzFoBlewFn43wD0HuGKhvQD1FrBoi7F5BKyktATyuRjqeKA2x6m7GwVeR8ysIeuddhQZrMVIAHTlpAvKrAwNmOjrioOYGB93+mdbGIuJCLQptyEyPSqMtPeV6aHBA20jOgDv79ZgCku5sISp2UJQ5n2g20P2cDqPZLC3OHSG05GURlNlc/gMciBcxfEqBPJAjA0WnCwGYsMfcjT0xVb7OUmeU6nyEwM1X8kLefl2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAn1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3kz5EAAAANHRSTlMAAvT8bQbAkGo2KQT5dlI7yHtxIfDEgl8eEdrMrJmLJAv21s/Gs6Iupp1l3ruGSBmUWUDldxkq6QAAAgNJREFUWMPtltlyqkAURQ+TqCCDgoAD1+gV55jcu///24KVpgjdNiRt5c31RGFZh7XPboWePHnyi2iJRw9xAUx6gIEB6H9IGWuNkr8aqZIDug6MHxEwTSahKBBrWk9ZIv+cPWESagJUYgIvQ1UBKmESagIlihJ+JcAk3B9KrGaVgKKEXQnUEiNlAXET78k3BHrVI4sSRyDsFpgQQ5RIAHfXJdAnjn69CWcObJwOARI4AwGTGLqCRKuAKBG2FWNYCwgSL+k3JLZMQKQHLNnlzpUWYwBgIP3ISNn1VHpEc2BBEhb1WGfDMhU4Aa8kwQPm1CExASKLJFgRkFG7xOstQikxy4dt4p6EeUtaygFIqGJn3PudGQEXkpJXFakkoow4xkDeWtLjl0hmwFSoW6vCEkiaW5kRxz8gJilBs2ROBPCLyABdvkYdxoqrvUcca3ZPUqQNl4l47kKuytzAkRgqR2pID5MPGFf+cIiPW4gFq6t3aNzR/gPiX/9VB2y6wxsQXfnen0jEBKuoUDEuMS0AppK6YMnt0rHBBIQqi1hnAIHfyC8AcHYa86eQvgNaC5RsPVaalbdFyd5qVLYHoCAZpo4SN97b9j52UaJXw/z9Wxge1igpLJKSFga+YBQpMWZgRCa1koYbg317HqaN8tw4XTLqJPOTfj/xs+byBsfR+H1HT36DD9JRUR0K2iaJAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAdVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB5WX1YAAAAJnRSTlMAdAon3C7fqwSuDAfz6AHYsYfOwJqTZUgkavf1elmKZlwrYRzItWYjkYUAAAFCSURBVFjD7ZfrboJAEIXdFQHlpr1QvLVV2/P+j9iakhzqRianNK0xfj+ME7JkmG+SA6MbF43fJ/E6r5LX2Y+Ol8sCLcWy1M9nc3SY6k1sAURu5/3ExQDu05HILseiPZQtADzKLRwO/O8ATAYJmQPTTjmOVTljYOVZOl3OHfDUuV8ky3kAXrq1LOdTxIaVIocd1KwkOZyBIceysPaWHHsP7MaI/bCUY5I9c9yWnJAZhdtymihqjouOgMT3y+GjuuPvKUVd9sthB1Xztegkr5KtN+QIqJuoyyGaHI5eoivHQSKUw9HbUM7VcCIgas5cCKLgnADXYyaMAgpgB8GFATltRIEGo0Dn13Nax44CMacF9CjQc1rvoP6vGTAK/nwP0mGbmL2tNumQKJi0b82MApH03chp4cuBUSCS7ZMov7IouPGdDyhUUNl2DwEUAAAAAElFTkSuQmCC\"","import { Body, Container, Title } from \"./styles\";\nimport WeatherCard from \"./components/WeatherCard\";\nimport WindCard from \"./components/WindCard\";\n\nconst Current = ({ currentWeather }) => {\n  return (\n    <Container>\n      <Title type=\"Title\">\n        {currentWeather.city},{currentWeather.country}\n      </Title>\n      <Title type=\"Subtitle\">{currentWeather.date}</Title>\n      <Body>\n        <WeatherCard currentWeather={currentWeather} />\n        <WindCard currentWeather={currentWeather} />\n      </Body>\n    </Container>\n  );\n};\nexport default Current;\n","export default __webpack_public_path__ + \"static/media/Cloudy.7378dc81.jpg\";","export default __webpack_public_path__ + \"static/media/Clear.bb36764a.jpg\";","export default __webpack_public_path__ + \"static/media/Clouds.33b8f208.jpg\";","export default __webpack_public_path__ + \"static/media/Rain.a8734d59.jpg\";","import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_WEATHER_API_URL;\nconst API_KEY = process.env.REACT_APP_KEY;\n//从后端获取当天天气的数据\nexport async function getCurrentWeatherFromAPI(searchValue) {\n  const currentWeatherURL = `${API_URL}weather?q=${searchValue}&APPID=${API_KEY}&units=metric`;\n  return new Promise((resolve) => {\n    axios\n      .get(currentWeatherURL)\n      .then((result) => {\n        const data = result.data;\n        const dateString = new Date().toString();\n        //处理日期格式\n        const date = `${dateString.split(\" \")[0]} ${dateString.split(\" \")[1]} ${\n          dateString.split(\" \")[2]\n        } ${dateString.split(\" \")[3]}`;\n        //构造需要的数据\n        const currentWeather = {\n          country: data.sys.country,\n          city: data.name,\n          weatherDescription: data.weather[0].description,\n          weather: data.weather[0].main,\n          currentTemperature: data.main.temp,\n          highestTemperature: data.main.temp_max,\n          lowestTemperature: data.main.temp_min,\n          humidity: data.main.humidity,\n          windSpeed: data.wind.speed,\n          date,\n        };\n        resolve(currentWeather);\n      })\n      .catch(() => {\n        alert(\"Can't find current Weather\");\n      });\n  });\n}\n\n//从后端获取天气预报的数据\nexport async function getForecastWeatherFromAPI(searchValue) {\n  const forecastWeatherURL = `${API_URL}forecast?q=${searchValue}&APPID=${API_KEY}&units=metric`;\n  return new Promise((resolve) => {\n    axios.get(forecastWeatherURL).then((result) => {\n      const forecastWeatherArray = [];\n      result.data.list.map((eachItem) => {\n        //构造需要的数据\n        const forecastWeatherObject = {\n          date: eachItem.dt_txt.split(\" \")[0],\n          time: eachItem.dt_txt.split(\" \")[1],\n          temperature: eachItem.main.temp,\n          weather: eachItem.weather[0].main,\n          weatherDescription: eachItem.weather[0].description,\n        };\n        forecastWeatherArray.push(forecastWeatherObject);\n        return forecastWeatherArray;\n      });\n      resolve(forecastWeatherArray);\n    });\n  });\n}\n","import styled from \"styled-components\";\nexport const Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n`;\n\nexport const Body = styled.div`\n  display: flex;\n  overflow-x: scroll;\n`;\n\nexport const Card = styled.div`\n  background-color: white;\n  opacity: 0.5;\n  margin: 0 1.5rem;\n  padding: 1rem 2rem;\n  border-radius: 1rem;\n  text-align: center;\n  flex-shrink: 0;\n  &:hover {\n    box-shadow: 0 0.2rem 0.5rem 0 black;\n  }\n`;\n\nexport const Text = styled.p`\n  font-size: 1.5rem;\n  margin: 0.2rem;\n`;\n\nexport const Title = styled.h2`\n  font-size: 3rem;\n  margin: 0;\n`;\n","import ReactAnimatedWeather from \"react-animated-weather\";\nimport { findWeatherIcon } from \"../../utils/findWeatherIcon\";\nimport { Body, Card, Container, Text, Title } from \"./styles\";\n\nconst Forecast = ({ forecastWeather }) => {\n  return (\n    <Container>\n      <Title>Forecast</Title>\n      <Body>\n        {forecastWeather.map((data) => {\n          return (\n            <Card key={data.date + data.time}>\n              <Text>{data.date.substr(5, 5)}</Text>\n              <Text>{data.time.substr(0, 5)}</Text>\n              <ReactAnimatedWeather\n                icon={findWeatherIcon(data.weather, data.time)}\n              />\n              <Text>{data.temperature.toFixed(1)}&#176;</Text>\n            </Card>\n          );\n        })}\n      </Body>\n    </Container>\n  );\n};\nexport default Forecast;\n","import styled, { css } from \"styled-components\";\n//主页背景图片\nexport const Container = styled.div`\n  background: url(${({ img }) => img}) center;\n  background-size: cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100vh;\n  @media (max-height: 718px) {\n    ${({ isResultFetched }) =>\n      isResultFetched &&\n      css`\n        height: 100%;\n      `}\n  }\n  @media (max-width: 509px) {\n    width: 100vh;\n  }\n`;\n","import { useState } from \"react\";\nimport SearchBar from \"./components/SearchBar\";\nimport Current from \"./components/Current\";\nimport Cloudy from \"../../assets/images/Cloudy.jpg\";\nimport Clear from \"../../assets/images/Clear.jpg\";\nimport Clouds from \"../../assets/images/Clouds.jpg\";\nimport Rain from \"../../assets/images/Rain.jpg\";\nimport {\n  getCurrentWeatherFromAPI,\n  getForecastWeatherFromAPI,\n} from \"../../services/openWeatherAPI\";\nimport Forecast from \"./components/Forecast\";\nimport { Container } from \"./styles\";\n\n// 主页组件\nconst Weather = () => {\n  //搜索栏数值\n  const [searchBarValue, setSearchBarValue] = useState(\"\");\n  //当前天气，从后端获取\n  const [currentWeather, setCurrentWeather] = useState(undefined);\n  //天气预报，从后端获取\n  const [forecastWeather, setForecastWeather] = useState(undefined);\n  //当输入框发生变化时\n  const handleSearchBarChange = (event) => {\n    //改变用户框的state\n    setSearchBarValue(event.target.value);\n  };\n  //提交搜索表单\n  const handleSubmit = (event) => {\n    //阻止页面跳转\n    event.preventDefault();\n    //从后端获取天气数据，异步\n    getCurrentWeatherFromAPI(searchBarValue).then((weatherObject) => {\n      //改变当天天气的state\n      setCurrentWeather(weatherObject);\n    });\n    //从后端获取天气预报，异步\n    getForecastWeatherFromAPI(searchBarValue).then((weatherObject) => {\n      //改变天气预报的state\n      setForecastWeather(weatherObject);\n    });\n  };\n\n  //根据当前天气背景切换\n  const handleBackground = () => {\n    const background = {\n      Clouds,\n      Clear,\n      Rain,\n      Cloudy,\n    };\n    return (\n      (currentWeather && background[currentWeather.weather]) ||\n      background[\"Cloudy\"]\n    );\n  };\n\n  //短路计算，当当前天气和天气预报的state不为undefined，显示当前天气和天气预报\n  return (\n    <Container\n      img={handleBackground}\n      isResultFetched={currentWeather && forecastWeather}\n    >\n      <SearchBar\n        value={searchBarValue}\n        onChange={handleSearchBarChange}\n        submit={handleSubmit}\n        isResultFetched={currentWeather && forecastWeather}\n      />\n      {currentWeather && forecastWeather && (\n        <Current currentWeather={currentWeather} />\n      )}\n      {currentWeather && forecastWeather && (\n        <Forecast forecastWeather={forecastWeather} />\n      )}\n    </Container>\n  );\n};\nexport default Weather;\n","import Weather from \"./components/Weather\";\n\n//路由管理\nconst App = () => {\n  return <Weather />;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"normalize.css\";\nimport \"./index.css\";\n\n//入口文件\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}