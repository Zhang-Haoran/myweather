{"version":3,"sources":["pages/components/home/components/SearchBar/components/SearchSection.js","pages/components/home/components/SearchBar/components/SearchInput.js","pages/components/home/components/SearchBar/components/SearchIcon.js","pages/components/home/components/SearchBar/SearchBar.js","utils/findWeatherIcon.js","pages/components/home/components/CurrentWeather/components/Flex.js","responsive/responsive.js","pages/components/home/components/CurrentWeather/components/Description.js","pages/components/home/components/CurrentWeather/components/Card.js","pages/components/home/components/CurrentWeather/components/Title.js","pages/components/home/components/CurrentWeather/components/Subtitle.js","pages/components/home/components/CurrentWeather/components/Image.js","utils/resizeWeatherIcon.js","pages/components/home/components/CurrentWeather/CurrentWeather.js","assets/highest.png","assets/humidity.png","assets/lowest.png","assets/wind.png","assets/Cloudy.jpg","assets/Clear.jpg","assets/Clouds.jpg","assets/Rain.jpg","services/openWeatherAPI.js","pages/components/home/components/ForecastWeather/components/ForecastWeatherSection.js","pages/components/home/components/ForecastWeather/components/ForecastWeatherCard.js","pages/components/home/components/ForecastWeather/components/Text.js","pages/components/home/components/ForecastWeather/components/ForecastTitle.js","pages/components/home/components/ForecastWeather/ForecastWeather.js","pages/components/home/Home.js","App.js","index.js"],"names":["SearchSection","styled","form","isResultFetched","SearchInput","input","SearchIcon","span","SearchBar","value","onChange","submit","onSubmit","SearchOutlined","type","placeholder","findWeatherIcon","eachWeather","eachTime","hours","substr","weatherIcon","Clear","Clouds","Drizzle","Rain","Thunderstorm","Snow","Fog","Default","Flex","div","props","css","responsive","xs","sm","md","lg","xl","Description","Card","Title","h1","Subtitle","h2","Image","img","resizeWeatherIcon","windowSize","section","innerWidth","CurrentWeather","currentWeather","useState","setWindowSize","useEffect","handleResize","window","addEventListener","removeEventListener","city","date","icon","weather","Date","toTimeString","split","size","currentTemperature","toFixed","weatherDescription","src","alt","highestTemperature","humidity","lowestTemperature","windSpeed","APIKey","require","searchValue","a","currentWeatherURL","Promise","resolve","axios","get","then","result","data","dateString","toString","name","description","main","temp","temp_max","temp_min","wind","speed","catch","alert","forecastWeatherURL","forecastWeatherArray","list","map","eachItem","forecastWeatherObject","dt_txt","time","temperature","push","ForecastWeatherSection","ForecastWeatherCard","Text","p","ForecastTitle","ForecastWeather","forecastWeather","renderForecastCard","each","Background","Home","searchBarValue","setSearchBarValue","undefined","setCurrentWeather","setForecastWeather","background","Cloudy","event","target","preventDefault","getCurrentWeatherFromAPI","getForecastWeatherFromAPI","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.779fe6b2.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n//搜索区域样式\r\nconst SearchSection = styled.form`\r\n  background: white;\r\n  opacity: 65%;\r\n  position: relative;\r\n  top: ${({ isResultFetched }) => (isResultFetched ? \"5%\" : \"40%\")};\r\n  width: 40rem;\r\n  min-height: 3rem;\r\n  margin: 0 auto;\r\n  border-radius: 20px;\r\n  font-family: cursive;\r\n  transition: 0.1s;\r\n`;\r\n\r\nexport default SearchSection;","//搜索栏输入样式\r\nimport styled from \"styled-components\";\r\n\r\nconst SearchInput = styled.input`\r\n  width: 90%;\r\n  position: absolute;\r\n  left: 8%;\r\n  top: 0.2rem;\r\n  border: none;\r\n  height: 2.5rem;\r\n  border-radius: 20px;\r\n  font-family: cursive;\r\n  font-size: 1.5rem;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport default SearchInput;","//搜索图标样式\r\nimport styled from \"styled-components\";\r\n\r\nconst SearchIcon = styled.span`\r\n  position: absolute;\r\n  top: 0.8rem;\r\n  left: 1rem;\r\n  height: 2rem;\r\n  width: 2rem;\r\n  font-size: 1.5rem;\r\n  font-family: cursive;\r\n`;\r\n\r\nexport default SearchIcon;","import { SearchOutlined } from \"@ant-design/icons\";\r\nimport SearchSection from \"./components/SearchSection\";\r\nimport SearchInput from \"./components/SearchInput\";\r\nimport SearchIcon from \"./components/SearchIcon\";\r\n\r\n\r\n\r\n// 参数从父组件传入\r\nconst SearchBar = ({ value, onChange, submit, isResultFetched }) => {\r\n  return (\r\n    <SearchSection isResultFetched={isResultFetched} onSubmit={submit}>\r\n      <SearchIcon>\r\n        <SearchOutlined />\r\n      </SearchIcon>\r\n      {/*输入框onChange被设置为传入的参数，value也被作为参数传回*/}\r\n      <SearchInput\r\n        type=\"text\"\r\n        placeholder=\"Enter your city\"\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </SearchSection>\r\n  );\r\n};\r\nexport default SearchBar;\r\n","//根据天气预报的气象信息 找到对应的天气图标\r\nexport const findWeatherIcon = (eachWeather, eachTime) => {\r\n  const hours = eachTime.substr(0, 2);\r\n  const weatherIcon = {\r\n    Clear: hours >= 18 || hours <= 5 ? \"CLEAR_NIGHT\" : \"CLEAR_DAY\",\r\n    Clouds:\r\n      hours >= 18 || hours <= 5 ? \"PARTLY_CLOUDY_NIGHT\" : \"PARTLY_CLOUDY_DAY\",\r\n    Drizzle: \"RAIN\",\r\n    Rain: \"SLEET\",\r\n    Thunderstorm: \"SLEET\",\r\n    Snow: \"SNOW\",\r\n    Fog: \"FOG\",\r\n    Default: \"Cloudy\",\r\n  };\r\n  return weatherIcon[eachWeather] || weatherIcon[\"Default\"];\r\n};\r\n","import styled, {css} from \"styled-components\";\r\n\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.type === \"Space-around\" &&\r\n    css`\r\n      justify-content: space-around;\r\n    `}\r\n  ${(props) =>\r\n    props.type === \"Vertical\" &&\r\n    css`\r\n      flex-direction: column;\r\n    `}\r\n`;\r\n\r\nexport default Flex;","const responsive = {\r\n    xs: `(min-width: 1px)`,\r\n    sm: `(min-width: 576px)`,\r\n    md: `(min-width: 768px)`,\r\n    lg: `(min-width: 1200px)`,\r\n    xl: `(min-width: 1440px)`\r\n}\r\n\r\nexport default responsive;","import styled, {css} from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst Description = styled.span`\r\n  margin-left: 3rem;\r\n  font-size: 2rem;\r\n  @media only screen and ${responsive.xs}{\r\n    font-size: 1rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    font-size: 1.25rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    font-size: 1.5rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    font-size: 1.75rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    font-size: 2rem;\r\n  };\r\n  ${(props) =>\r\n    props.type === \"Temperature\" &&\r\n    css`\r\n      @media only screen and ${responsive.xs}{\r\n        font-size: 1rem;\r\n      };\r\n      @media only screen and ${responsive.sm}{\r\n        font-size: 2rem;\r\n      };\r\n\r\n      @media only screen and  ${responsive.md}{\r\n        font-size: 3rem;\r\n      };\r\n\r\n      @media only screen and  ${responsive.lg}{\r\n        font-size: 4rem;\r\n      };\r\n\r\n      @media only screen and  ${responsive.xl}{\r\n        font-size: 5rem;\r\n      };\r\n    `}\r\n`;\r\n\r\nexport default Description;","import styled, {css} from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst Card = styled.div`\r\n  display: flex;\r\n  border-radius: 1rem;\r\n  font-size: 1.5rem;\r\n  padding: 1rem;\r\n  margin-top: 1rem;\r\n\r\n  &:hover {\r\n    box-shadow: 0 0.2rem 0.5rem 0 rgba(0, 0, 0, 0.5);\r\n  }\r\n\r\n  ${(props) =>\r\n    props.type === \"Secondary\" &&\r\n    css`\r\n      flex-direction: column;\r\n      justify-content: space-around;\r\n      background-color: rgba(255, 255, 255, 0.2);\r\n      font-size: 1.5rem;\r\n      backdrop-filter: blur(10px);\r\n    `}\r\n\r\n  @media only screen and ${responsive.xs}{\r\n    font-size: 0.5rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    font-size: 0.8rem;\r\n  };\r\n  \r\n  @media only screen and  ${responsive.md}{\r\n    font-size: 1rem;\r\n  };\r\n  \r\n  @media only screen and  ${responsive.lg}{\r\n    font-size: 1.2rem;\r\n  };\r\n  \r\n  @media only screen and  ${responsive.xl}{\r\n    font-size: 1.5rem;\r\n  };\r\n`;\r\n\r\nexport default Card;","import styled from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst Title = styled.h1`\r\n  margin-top: 4rem;\r\n  margin-bottom: 0;\r\n  margin-left: 3rem;\r\n  font-size: 3.5rem;\r\n  font-weight: 50;\r\n  @media only screen and ${responsive.xs}{\r\n    font-size: 1.5rem;\r\n    margin-top: 0.5rem;\r\n  };\r\n  \r\n  @media only screen and ${responsive.sm}{\r\n    font-size: 2rem;\r\n    margin-top: 1rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    font-size: 2.5rem;\r\n    margin-top: 2rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    font-size: 3rem;\r\n    margin-top: 3rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    font-size: 3.5rem;\r\n    margin-top: 4rem;\r\n  };\r\n`;\r\n\r\nexport default Title;","import styled from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst Subtitle = styled.h2`\r\n  margin-left: 3rem;\r\n  margin-top: 0;\r\n  @media only screen and ${responsive.xs}{\r\n    font-size: 0.5rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    font-size: 0.8rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    font-size: 1rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    font-size: 1.2rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    font-size: 1.5rem;\r\n  };\r\n`;\r\n\r\nexport default Subtitle;","import styled from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst Image = styled.img`\r\n  height: 1.5rem;\r\n  margin: 0.5rem;\r\n  @media only screen and ${responsive.xs}{\r\n    height: 0.5rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    height: 0.8rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    height: 1rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    height: 1.2rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    height: 1.5rem;\r\n  };\r\n`;\r\n\r\nexport default Image;","//根据窗口宽度判断icon的大小\r\nexport const resizeWeatherIcon = (windowSize,section) =>{\r\n    if (section === \"current\"){\r\n        if (windowSize.innerWidth < 768){\r\n            return 32;\r\n        }\r\n        if (windowSize.innerWidth < 1200){\r\n            return 64;\r\n        }\r\n        if (windowSize.innerWidth < 1440){\r\n            return 96;\r\n        }\r\n        if (windowSize.innerWidth >= 1440){\r\n            return 128;\r\n        }\r\n    }else {\r\n        if (windowSize.innerWidth < 768){\r\n            return 16;\r\n        }\r\n        if (windowSize.innerWidth < 1200){\r\n            return 24;\r\n        }\r\n        if (windowSize.innerWidth < 1440){\r\n            return 32;\r\n        }\r\n        if (windowSize.innerWidth >= 1440){\r\n            return 40;\r\n        }\r\n    }\r\n}","import ReactAnimatedWeather from \"react-animated-weather\";\r\nimport { findWeatherIcon } from \"../../../../../utils/findWeatherIcon\";\r\nimport highest from \"../../../../../assets/highest.png\";\r\nimport lowest from \"../../../../../assets/lowest.png\";\r\nimport wind from \"../../../../../assets/wind.png\";\r\nimport humidity from \"../../../../../assets/humidity.png\";\r\nimport Flex from \"./components/Flex\";\r\nimport Description from \"./components/Description\";\r\nimport Card from \"./components/Card\";\r\nimport Title from \"./components/Title\";\r\nimport Subtitle from \"./components/Subtitle\";\r\nimport Image from \"./components/Image\";\r\nimport {resizeWeatherIcon} from \"../../../../../utils/resizeWeatherIcon\";\r\nimport {useState,useEffect} from \"react\";\r\n\r\n//当前天气组件\r\nconst CurrentWeather = ({ currentWeather }) => {\r\n  const [windowSize, setWindowSize] = useState(128);\r\n\r\n  //每次渲染运行\r\n  useEffect(()=>{\r\n    const handleResize = () =>{\r\n      setWindowSize(resizeWeatherIcon(window,\"current\"))\r\n    }\r\n    window.addEventListener('resize',handleResize);\r\n    //当组件卸载时，clean up\r\n    return () => window.removeEventListener('resize', handleResize);\r\n\r\n  },[])\r\n  return (\r\n    <>\r\n      <Title>{currentWeather.city}</Title>\r\n      <Subtitle>{currentWeather.date}</Subtitle>\r\n      <Flex type=\"Space-around\">\r\n        <Card type=\"Primary\">\r\n          <ReactAnimatedWeather\r\n            icon={findWeatherIcon(\r\n              currentWeather.weather,\r\n              new Date().toTimeString().split(\" \")[0]\r\n            )}\r\n            size={windowSize}\r\n          />\r\n          <Flex type=\"Vertical\">\r\n            <Description type=\"Temperature\">\r\n              {currentWeather.currentTemperature.toFixed(1)}&#176;\r\n            </Description>\r\n            <Description type=\"Description\">\r\n              {currentWeather.weatherDescription}\r\n            </Description>\r\n          </Flex>\r\n        </Card>\r\n        <Card type=\"Secondary\">\r\n          <div>\r\n            <Image src={highest} alt=\"highest temperature\" />\r\n            Highest: {currentWeather.highestTemperature.toFixed(1)}&#176;\r\n            <Image src={humidity} alt=\"humidity\" />\r\n            Humidity: {currentWeather.humidity}%\r\n          </div>\r\n          <div>\r\n            <Image src={lowest} alt=\"lowest temperature\" />\r\n            Lowest: {currentWeather.lowestTemperature.toFixed(1)}&#176;\r\n            <Image src={wind} alt=\"wind\" />\r\n            Wind: {currentWeather.windSpeed}mph\r\n          </div>\r\n        </Card>\r\n      </Flex>\r\n    </>\r\n  );\r\n};\r\nexport default CurrentWeather;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAADVElEQVR4nO3bTagWVRzH8c+99zElesEbBL1YQkhJplFRRJnbKFwG0SYISWgR2SJXwoVwkeiit0UURIvQgkKCIIiCICTKFgZ2TZKMRC1C6c3Crt4WZ4Yr9z4vM8/MmfN4my/84eGZc/7z+//nzDkz55yhpSUFk3gDxzN7HcuTKmqQDr7E7Dz7GksS6mqMjRYGn9vDTYsZb/qEWNPn2NrGVGSkSMDSIY9FIUUCRoo2AT3+vw+v4IEGtcTiLmzH7UUrjOFXoVc+j7dxTY2CpvQeBaZqPM9VeA3nMt8nuhXq1gIuLDyGx3AIW4QxfNQZxyZB85PmYjxdxsnVeEtoARdeoW9wd0WBMVvAbfiii9/3cd0wDu/HgXnOTuOSCiJjJWCZuVs3t8N4sF+lQaPA57gTz+C37L/8nho1Org0+/03tgkt4qNBlQYxgxexB4/gU/w7tMx4/IkNWC80+aNFKpXp1H4WhsZR5qvMCtM+CKUWkJo2AakFpKZNQGoBqelkthkr+pT7SXixmGlCVA0UjqmDxxUb38/gzeraGqFwTOP4q6DTM8PraZzCMXXwDv7BzX0KHsIHVVU1SOGYOsKLzd4mVDVI4Zj+96NAm4DUAlLTJiC1gNS0CShR9g5hauyhSFrqYAOex+o6nS7Hq8J7wKwwH3hlBX+xZoWXCvOCsziLF3DZoEr9WsAYnsB3eAoT2f/HjeZj8Qx+z34vwXOYFiZyS3Mr9ll4hfbihopCYy6MrMInXfx+jJvKODo2z8H36tu90cTa4KMWxvBDt4LdboEx4R4iLDBMCbs6PqxJXBPsETrCXebWMCZ6F1/IjXgaK+vVheZWh3NWYytu6Xaw18LIj3gpgpgUTGfWlfZBKLWA1LQJSHDOySGPXfRcjt16jwC57c7KLiquFXriQcHnNp3VWRR08Jniwee2T7WtOCPDFuWDz+3ZBHprZRxHDJ+Ao0o+wo4a9xo++NzWxxQYexhcVYOPdTX46EnsBNTRk19Rg4+exE7AqRp8/FKDj57ETsC3I+IjGRPC/sJhO8CTIl+k2C3gHHZWqL9D2LB9UbNM+CSu7NXfL8E3RLFYIUysFg3+MK5PojQik3hP/8DP412L/CvSe4QNTAfxR2YH8bLqH2O0tJTkP31gTxECx2HtAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEeklEQVR4nO2aW4hVVRjHf3OccYbxgkyBKNageMtMH9RGraBeIsIHyScREQMfUkcstcArmWiUUSJBQgRdBDESDPRBwVK8TE4NIkYo3QgKBS9T423GGU8Pax/2t9acfc5a+3KOl/WDDWufs9b/+/Y66/v22t8+4PF4PB6Px+PxeDwPIQMy0MwBC4GxwC8Z6N/zbAPywdFaZV8qTgvQSzgBN4BxVfWogtQD5wgvvnCcJJtQu+d4D/2XvyHOV1bRr4owE33ptwIr0CdkfNW8y5h64GfCiz2OuhPkgO95CEJhO/ovPVZ8NxroEt+/XnHvMsZc+suL9GkV398CJlXMu4yJWvomD2wofED00jcxQ2FV5t5lzCzKL30TGQq3uY9DoRE4T/mlb2KGwinu01D4EPulb2KGwurUvcuYZ4A+3Ja+yXL0u8JEizE1wAJgcdCuCo3ABULnv8Nu6ZvkgrEuobBE9F8bw2YqyKV/HRiTQGtMoFHQW1Om/6voCXRyAtuxmI2e9ZemoLkM/aKeLNG3FmgX/TuAuhR8sMJc+kdIJw5rgENCt43SoTAJNVEVD4WPhNEuVCZPC/Ou8GaZ/huwXzWpMBG4I4y+loGNpUL/JjCqRN9a4EcqGArfCmPHyOYWVBNoF+zsKtN/KtAt+r+VgU8ATBNG7gIzsjIEPB3YyKNWXHOZ/puEb7eAJ7Jw6n1h5OssDBjswz4X1AFnsE+gsfhNGJiTtngR5gp7P1n0nwr0YD9pTowWwp2oZ/+saQD+E3aHWYx5Gz0UbLbVVrwkhI+mJWrBCWG3xaJ/LWq1xA6FqL28fJlx3kUwIdLWBIv+vajnhN7gvAVVjbYmagIaRfuyi2BCpK1BlmM6gHfF+UagydZg1AT0iHbF9tyoJV2gz2HcO6jtOqjcYV19jpqA26I91MGRpAwR7Z7IXv3pAdaJ8/lJHXmBMLGcSCrmQJuwO9NxbB0qhArjbXJIJE1CqAsYmETMknrC94l92OcAyX5Cv+faDIgKgauEf24YDLwcwxlX5hAm37OoyXDlD9EeYTOgVElrt2gviuGMK9LG7shepcmLtksSLcrjhAXQu9htTOIym/BhqBcYGVPnG8IQmJeGY5+TYJdliVnu+jSmTg74W+i4lOsjGYlesdmRhqjBTqH/LzA8ps6LQud3UqxdyD865IE30hIOtKR23GJrDjgtdDan4p3gE3RHd5Hs1liLWk1S87MEepuFzjXg0QRaRRkIHEZ3uA31psiVZ4EfDK3DxNtyDwC2ECbQuG+rrGgA9qI7ngcOAK+gb2NNhqCy8sEi4/cQr97wPPrL1jzwhauIa6KoQeWErehPjKD24+3AX8Cl4LPhqPredPqHzE1UQfNj9Pu35DlUXrgC/EOY3WfRvw74JerRuNvlguLSDHyFXjK3Pe6gfqnHLOz8aqHXSRX/kdqMelnRgf7W2Dz6UJWb9ZSv+EqKhVzh+BNVB3gkyQWkWecfBjyFevE5OPjsOuqefBZ1j3clhwqfKagL7QYuov6Rei6hvx6Px+P5H/5gmdwp+a8gAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEKklEQVR4nO2bS2xNQRjHf7eqt54R9YxUhLaUeCQeQTQWNhYeCyR2nomNRFiw8IiQSCSsrIhNIzYWFixIaLtASLGg8Yigql5N6xW0RfVazJyc6bnn3t5zzszcU+4/mdxzZ+b75v/NnDnnm5nvJMgPEkANMF/+vw/cAFJ54mMVU4FGhLFqapRl/zTGAC2kG++kFlnnn8VJXGO7gbMydSv5J/LGzgKacQ1dp+SvV/Jf5oGXNfTgGlqi5Jco+T02CSVsNkbfp7y37WxlxlBkq6G4otABGfIXI57YNRa5mMJ84DAwJ1eBBNCBmJO9wHlgoiYyvVLvH58y1R/QgTLgtGwrBbwPItzkIfQV2A0URyRVJ/Vd8ynT1QFFwHag3aPzcRAl44Ba3BFz0kNgUQRyScQtWeJTpqMDZgN3PLpSwEVgUhiFy4AHHmWf8TcgKqJ2QCnu1HXSM2BlVGLFwC7gi1TaAQyOqtQHUTtgONAp5TuBA4g7ThvGAzuBmTqVKtAxBRYCe4ApWhgZQBJYgP/I6H4LxBL1CAOv+5T9Fx1g0w/ICbZdYWeRExsX3DYRZ3R7LbebEbY7oEH+1ltuNzYw7QkGRgLh6OwAyrPUa0UsLEzu1ujcEAliE9vIvEurpi0RSfUHnXdAzjYVAT9yVNqpgZgt5GxTAnG7rQWmZ6n4FLhE9NFJIlZsTcBPT5nOKRDEJqsoeIIUPMG8tJsRBU/QcnsFT5AYeoJxQeyPxqYBB4HlhrjowDLgEDBDp9IhwBGgCzFKP4GROhuQiDoFksB3Kf8LOI7YKI2E1YjzepVcG+F3W03uCQ4C3nn0tAIbwigrBy57lKWAm8CskATBvCdYiXv6pKZriCmcMx6SPuqbiP5wsuUJbgTeeHQ2B1HwRAr1AKeAURpIQXYjdb8GRyDijX5Jna+DCE8F9gJzNZFxYLMDHFQD+8jwZiiEyNhqKK4odIDFtoIEV0QNxIgdqhAB0c5Dzm93+Y9Sfg+osMbOMOaRHrhwwafeFU+ddgIENsUVY4G3uEZ1IxZUfgEWg2WZGjfcigh2GrA4h2vMN8Q6oD8slHUduVpj7Ayjmr7zelUA2TX0fV5UaWdnAcdwjagLId+gyB/VyMsabuMasK6fun5QQ+hvaeRlDZ9wDQjzSqtU5D9q5GUNzioshYjhC4pSRd57jKYNJj3BduV6dAh59fXXEZFLRpjsgFfK9ZIQ8kuV60CbGUFgsgOuKNdhYgu2KtdXI3LJCyqB34TzA9Yqcr+lrgGJM7iGfEF8iNEfliDC8x2508bYWUAZ8ALXmC5gPzDUp+4wRICzuhZ4juG1gI2tp1kIT3C8kvcDsTXufCM4DViB6AQHbTLvkQWOxjEZuEtugUspWXdyXpgaRBGwmfTPcdTUhDh/sLZTla/T4QrEsneC/P8B8fX4C9tE/gKZMY5NYfdVqwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAACoUlEQVR4nO2bPWsUQRjHfyfGhHhdYicKMQYVXxC/hB9BxEICEdRGLirYWImIdqKNn0DxvbA2pYVa2Bj0fAFBEWKVqI1Ri8mxc9G73Xl5ZmeW+cHAsLc7++zs7POf+e8eZDKZTCYjzTgwC9wF3gPfgRVgcW3bMaBdW3SCtIDTwFfgT0n5ApwENtQSqQCjwCPKL3x9eUhDRsMR+i/sLXAG2IN6JDYD+4BzwId1+y4AI+FD9steYBn4BVwCNg7ZdxS4Avym6IQb0gGGYBLYarB/h6IDVoEDEkHFjp43HhgeO4NSmaQVZhfFo/ATlSuqcpaGKMwLiuAPGxw3A3RpgMLcogj6hMXxySvMZYqALzi2laTC6CNgzlObSSnMS+xyQBkuChOM3RTD9QdmKlCGi8IE4zHFXbov0L6twgRB1/FVYL/AOfoUJpaJwRhwFbimbbsJvBI415JWnxi2QJGmDUyhhuEpYLv22wIwL3TeSa2+NHCv/zCNmmV11+o9evNv03X/oHIP2eRkrTDz2oEdbfug+bdp+YzS/JbVZVXDSWGmUabGG2CHtr1s/j2oLAOvgTvAUdNgLJFWmKgJoTBR0lMYffRdrzWiALRRd/g88JH+i39KhdWg78weS6msML4yeyzFWGFsM3sspQ6FyWRSxSXjvwN2Cp9D3ON3zfhVVm0+VcW7x++S8btUHwG+VSUZj9+V5D1+nyTp8UuQlMcvRRIevyRJePzSOHv8sdjitjzX6ttsGki9A75p9QmbBlLvgC1a3cjj75F6BxzS6p9qi6ImJN8iJ0HjPH6T95SN8vg3Ac9Qk5mLDF/cNNLjP8i/S+wO6lPbcTx4/LEzAjzB3A+QfosclBbqG4Eq/ysI8Ra5NsaA48BtlN+4Qvb4M5lMJpOR4i/jDi5mkphJLQAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Cloudy.67445664.jpg\";","export default __webpack_public_path__ + \"static/media/Clear.e4412323.jpg\";","export default __webpack_public_path__ + \"static/media/Clouds.fbfe3744.jpg\";","export default __webpack_public_path__ + \"static/media/Rain.2658330f.jpg\";","import axios from \"axios\";\r\nconst APIKey = require(\"./config.json\").APIKey;\r\n\r\n//从后端获取当天天气的数据\r\nexport async function getCurrentWeatherFromAPI(searchValue) {\r\n  const currentWeatherURL = `https://api.openweathermap.org/data/2.5/weather?q=${searchValue}&APPID=${APIKey}&units=metric`;\r\n  return new Promise((resolve) => {\r\n    axios\r\n      .get(currentWeatherURL)\r\n      .then((result) => {\r\n        const data = result.data;\r\n        const dateString = new Date().toString();\r\n        //处理日期格式\r\n        const date = `${dateString.split(\" \")[0]} ${dateString.split(\" \")[1]} ${\r\n          dateString.split(\" \")[2]\r\n        } ${dateString.split(\" \")[3]}`;\r\n        //构造需要的数据\r\n        const currentWeather = {\r\n          city: data.name,\r\n          weatherDescription: data.weather[0].description,\r\n          weather: data.weather[0].main,\r\n          currentTemperature: data.main.temp,\r\n          highestTemperature: data.main.temp_max,\r\n          lowestTemperature: data.main.temp_min,\r\n          humidity: data.main.humidity,\r\n          windSpeed: data.wind.speed,\r\n          date,\r\n        };\r\n        resolve(currentWeather);\r\n      })\r\n      .catch(() => {\r\n        alert(\"Can't find current weather\");\r\n      });\r\n  });\r\n}\r\n//从后端获取天气预报的数据\r\nexport async function getForecastWeatherFromAPI(searchValue) {\r\n  const forecastWeatherURL = `https://api.openweathermap.org/data/2.5/forecast?q=${searchValue}&APPID=${APIKey}&units=metric`;\r\n  return new Promise((resolve) => {\r\n    axios\r\n      .get(forecastWeatherURL)\r\n      .then((result) => {\r\n        const forecastWeatherArray = [];\r\n        result.data.list.map((eachItem) => {\r\n          //构造需要的数据\r\n          const forecastWeatherObject = {\r\n            date: eachItem.dt_txt.split(\" \")[0],\r\n            time: eachItem.dt_txt.split(\" \")[1],\r\n            temperature: eachItem.main.temp,\r\n            weather: eachItem.weather[0].main,\r\n            weatherDescription: eachItem.weather[0].description,\r\n          };\r\n          forecastWeatherArray.push(forecastWeatherObject);\r\n          return forecastWeatherArray;\r\n        });\r\n        resolve(forecastWeatherArray);\r\n      })\r\n      .catch(() => {\r\n        alert(\"can't find weather forecast\");\r\n      });\r\n  });\r\n}\r\n","//天气预报组件样式\r\nimport styled from \"styled-components\";\r\n\r\nconst ForecastWeatherSection = styled.section`\r\n  display: flex;\r\n  margin-bottom: 1rem;\r\n  overflow-x: scroll;\r\n`;\r\n\r\nexport default ForecastWeatherSection;","//天气预报卡片，针对每一个预报\r\nimport styled from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst ForecastWeatherCard = styled.div`\r\n  flex-shrink: 0; //卡片日期的拉升\r\n  background-color: white;\r\n  opacity: 0.5;\r\n  background-size: 10rem 10rem;\r\n  height: 10rem;\r\n  margin: 0 1rem 0 1rem;\r\n  padding: 1rem 2.5rem 2rem 2.5rem;\r\n  text-align: center;\r\n  border-radius: 1rem;\r\n\r\n  &:hover {\r\n    box-shadow: 0 0.2rem 0.5rem 0 rgba(0, 0, 0, 0.5);\r\n  }\r\n  @media only screen and ${responsive.xs}{\r\n    background-size: 4rem 4rem;\r\n    height: 4rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    background-size: 5rem 5rem;\r\n    height: 5rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    background-size: 6rem 6rem;\r\n    height: 6rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    background-size: 7rem 7rem;\r\n    height: 7rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    background-size: 8rem 8rem;\r\n    height: 8rem;\r\n  };\r\n`;\r\n\r\nexport default ForecastWeatherCard;","import styled from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst Text = styled.p`\r\n  font-size: 1.5rem;\r\n  margin: 0.2rem;\r\n  @media only screen and ${responsive.xs}{\r\n    font-size: 0.5rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    font-size: 0.8rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    font-size: 1rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    font-size: 1.2rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    font-size: 1.5rem;\r\n  };\r\n`;\r\n\r\nexport default Text;","import styled from \"styled-components\";\r\nimport responsive from \"../../../../../../responsive/responsive\";\r\n\r\nconst ForecastTitle = styled.div`\r\n  font-size: 3rem;\r\n  margin-left: 3rem;\r\n  margin-bottom: 1rem;\r\n  margin-top: 1rem;\r\n  @media only screen and ${responsive.xs}{\r\n    font-size: 1rem;\r\n  };\r\n  @media only screen and ${responsive.sm}{\r\n    font-size: 1.5rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.md}{\r\n    font-size: 2rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.lg}{\r\n    font-size: 2.5rem;\r\n  };\r\n\r\n  @media only screen and  ${responsive.xl}{\r\n    font-size: 3rem;\r\n  };\r\n`;\r\n\r\nexport default ForecastTitle;","import ReactAnimatedWeather from \"react-animated-weather\";\r\nimport { findWeatherIcon } from \"../../../../../utils/findWeatherIcon\";\r\nimport ForecastWeatherSection from \"./components/ForecastWeatherSection\";\r\nimport ForecastWeatherCard from \"./components/ForecastWeatherCard\";\r\nimport Text from \"./components/Text\";\r\nimport ForecastTitle from \"./components/ForecastTitle\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {resizeWeatherIcon} from \"../../../../../utils/resizeWeatherIcon\";\r\n\r\n//天气预报组件\r\nconst ForecastWeather = ({ forecastWeather }) => {\r\n    const [windowSize, setWindowSize] = useState(32);\r\n    //每次渲染运行\r\n    useEffect(()=>{\r\n        const handleResize = () =>{\r\n            setWindowSize(resizeWeatherIcon(window,\"forecast\"))\r\n        }\r\n        window.addEventListener('resize',handleResize);\r\n        //当组件卸载时，clean up\r\n        return () => window.removeEventListener('resize', handleResize);\r\n\r\n    },[])\r\n  //渲染天气预报卡片，针对每一个\r\n  const renderForecastCard = forecastWeather.map((each) => {\r\n    return (\r\n      //每一个都是同样的样式\r\n      <ForecastWeatherCard key={each.date + each.time}>\r\n        <Text>{each.date.substr(5, 5)}</Text>\r\n        <Text>{each.time.substr(0, 5)}</Text>\r\n        <ReactAnimatedWeather\r\n          icon={findWeatherIcon(each.weather, each.time)}\r\n          size={windowSize}\r\n        />\r\n        <Text>{each.temperature.toFixed(1)}&#176;</Text>\r\n      </ForecastWeatherCard>\r\n    );\r\n  });\r\n  return (\r\n    <>\r\n      <ForecastTitle>Forecast</ForecastTitle>\r\n      <ForecastWeatherSection>{renderForecastCard}</ForecastWeatherSection>\r\n    </>\r\n  );\r\n};\r\nexport default ForecastWeather;\r\n","import SearchBar from \"./components/SearchBar\";\r\nimport CurrentWeather from \"./components/CurrentWeather\";\r\nimport styled from \"styled-components\";\r\nimport Cloudy from \"../../../assets/Cloudy.jpg\";\r\nimport Clear from \"../../../assets/Clear.jpg\"\r\nimport Clouds from \"../../../assets/Clouds.jpg\"\r\nimport Rain from \"../../../assets/Rain.jpg\"\r\nimport { useState } from \"react\";\r\nimport {\r\n  getCurrentWeatherFromAPI,\r\n  getForecastWeatherFromAPI,\r\n} from \"../../../services/openWeatherAPI\";\r\nimport ForecastWeather from \"./components/ForecastWeather\";\r\n\r\n//主页背景图片\r\nconst Background = styled.div`\r\n  background: url(${(props) => props.img});\r\n  height: 100vh;\r\n  background-size: 100% 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n// 主页组件\r\nconst Home = () => {\r\n  //搜索栏数值\r\n  const [searchBarValue, setSearchBarValue] = useState(\"\");\r\n  //当前天气，从后端获取\r\n  const [currentWeather, setCurrentWeather] = useState(undefined);\r\n  //天气预报，从后端获取\r\n  const [forecastWeather, setForecastWeather] = useState(undefined);\r\n  //当输入框发生变化时\r\n  const handleSearchBarChange = (event) => {\r\n    //改变用户框的state\r\n    setSearchBarValue(event.target.value);\r\n  };\r\n  //提交搜索表单\r\n  const handleSubmit = (event) => {\r\n    //阻止页面跳转\r\n    event.preventDefault();\r\n    //从后端获取天气数据，异步\r\n    getCurrentWeatherFromAPI(searchBarValue).then((result) => {\r\n      //改变当天天气的state\r\n      setCurrentWeather(result);\r\n    });\r\n    //从后端获取天气预报，异步\r\n    getForecastWeatherFromAPI(searchBarValue).then((result) => {\r\n      //改变天气预报的state\r\n      setForecastWeather(result);\r\n    });\r\n  };\r\n\r\n  //根据当前天气背景切换\r\n  const handleBackground = () =>{\r\n    const background = {\r\n      Clouds,\r\n      Clear,\r\n      Rain,\r\n      Cloudy\r\n    }\r\n    return currentWeather && currentWeather.weather && background[currentWeather.weather] ? background[currentWeather.weather]: background[\"Cloudy\"]\r\n  }\r\n\r\n  //短路计算，当当前天气和天气预报的state不为undefined，显示当前天气和天气预报\r\n  return (\r\n    <Background img={handleBackground}>\r\n        <SearchBar\r\n          value={searchBarValue}\r\n          onChange={handleSearchBarChange}\r\n          submit={handleSubmit}\r\n          isResultFetched={(currentWeather && forecastWeather)}\r\n        />\r\n      {currentWeather && forecastWeather && (\r\n        <CurrentWeather currentWeather={currentWeather} />\r\n      )}\r\n      {currentWeather && forecastWeather && (\r\n        <ForecastWeather forecastWeather={forecastWeather} />\r\n      )}\r\n    </Background>\r\n  );\r\n};\r\nexport default Home;\r\n","import Home from \"./pages/components/home\";\r\n\r\n//路由管理\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <Home />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"normalize.css\";\r\nimport \"./index.css\";\r\n\r\n//入口文件\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}